{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","text":""},{"location":"#\u0447\u0442\u043e-\u0442\u0430\u043a\u043e\u0435-\u0440\u043e\u0439","title":"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u0420\u043e\u0439","text":"<p>\"\u0420\u043e\u0439\" - Host Based Firewall, \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u043c\u044b\u043c \u043f\u043e \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 Apache 2.0, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u044b\u043b \u0441\u043e\u0437\u0434\u0430\u043d \u0434\u043b\u044f \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u043f\u0440\u0430\u0432\u0438\u043b \u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u0442\u0440\u0430\u0444\u0438\u043a\u0430 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 nftables \u0438 \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043c\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u043d\u0443\u043b\u0435\u0432\u043e\u0433\u043e \u0434\u043e\u0432\u0435\u0440\u0438\u044f. \u042d\u0442\u043e\u0442 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043b\u0435\u0433\u043a\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430, \u0447\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 \u0435\u0433\u043e \u0438\u0434\u0435\u0430\u043b\u044c\u043d\u044b\u043c \u0440\u0435\u0448\u0435\u043d\u0438\u0435\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u043a\u0440\u0443\u043f\u043d\u044b\u0445 \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0435\u0442\u044f\u0445, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u043c\u0430\u043b\u044b\u0445 \u0438 \u0441\u0440\u0435\u0434\u043d\u0438\u0445 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f\u0445.</p> Info <p>\u041f\u0440\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u043b\u0438\u0441\u044c \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u044b \u0438 \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0441\u0442\u0438. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u0441\u0435\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043d\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u043c \u0443\u0437\u043b\u0435, \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434 \u043f\u0440\u0438 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0438 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b.</p>"},{"location":"#\u043a\u0430\u043a\u0438\u0435-\u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b-\u0440\u0435\u0448\u0430\u0435\u0442","title":"\u041a\u0430\u043a\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0440\u0435\u0448\u0430\u0435\u0442","text":"<p>\u041f\u0440\u043e\u0435\u043a\u0442 \u0431\u044b\u043b \u0441\u043e\u0437\u0434\u0430\u043d \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u043f\u043e\u0442\u0440\u0435\u0431\u043d\u043e\u0441\u0442\u0435\u0439 \u043a\u0440\u0443\u043f\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 \u0432 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u043e\u0442\u0440\u0430\u0441\u043b\u044f\u0445, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0442\u043e\u043b\u043a\u043d\u0443\u043b\u0438\u0441\u044c \u0441 \u0440\u044f\u0434\u043e\u043c \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u0435 \u0441\u0435\u0442\u043e\u0432\u043e\u0439 \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438. \u0421\u0440\u0435\u0434\u0438 \u044d\u0442\u0438\u0445 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0434\u0435\u043b\u0438\u0442\u044c:</p> <ul> <li>\u041d\u0435\u043e\u0434\u043d\u043e\u0440\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043c\u0435\u0436\u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0442 \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439.</li> <li>\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438 \u0432\u044b\u0441\u043e\u043a\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u043e\u0447\u0435\u0447\u043d\u043e\u0439 \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438 (ip to ip, team to team).</li> <li>\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0435\u0434\u0438\u043d\u043e\u0433\u043e \u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0430 \u043a \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b.</li> <li>\u0412\u044b\u0441\u043e\u043a\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f.</li> </ul>"},{"location":"#\u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430","title":"\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0420\u043e\u044f, \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0435\u0433\u043e \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b Linux, \u043e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c\u0438 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430\u043c\u0438 \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 \u0436\u0435\u043b\u0435\u0437\u043d\u044b\u043c\u0438 \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430 \u043e\u0442 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f:</p> <ul> <li> <p>\u0423\u0434\u043e\u0431\u0441\u0442\u0432\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f: \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0420\u043e\u044f \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0447\u0442\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u0443 \u0438 \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u043e \u0432 \u0440\u0430\u0431\u043e\u0442\u0435, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u043e\u043a\u0440\u0430\u0449\u0430\u0435\u0442 \u0437\u0430\u0442\u0440\u0430\u0442\u044b \u043d\u0430 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435. \u042d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u043f\u0440\u043e\u0449\u0430\u0435\u0442 \u0437\u0430\u0434\u0430\u0447\u0443 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439.</p> </li> <li> <p>\u041d\u0438\u0437\u043a\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: \u0420\u043e\u0439 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0443\u0436\u0435 \u0438\u043c\u0435\u044e\u0449\u0435\u0435\u0441\u044f \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043d\u0438\u0437\u0438\u0442\u044c \u0437\u0430\u0442\u0440\u0430\u0442\u044b \u043d\u0430 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u0438\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f. \u042d\u0442\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439 \u0438\u043b\u0438 \u043e\u0442\u0434\u0435\u043b\u043e\u0432, \u0443 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0439 \u0431\u044e\u0434\u0436\u0435\u0442 \u043d\u0430 IT-\u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443.</p> </li> <li> <p>\u0413\u0438\u0431\u043a\u043e\u0441\u0442\u044c: \u0420\u043e\u0439 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e\u043b\u0438\u0442\u0438\u043a \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432, \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0431\u043e\u043b\u0435\u0435 \u0433\u0438\u0431\u043a\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0449\u0438\u0442\u0443.</p> </li> <li> <p>\u041c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u0443\u0435\u043c\u043e\u0441\u0442\u044c: \u0420\u043e\u0439 \u043e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u043b\u0435\u0433\u043a\u043e\u0433\u043e \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0430 \u0431\u043e\u043b\u044c\u0448\u043e\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432, \u0431\u0435\u0437 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u0438\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0439 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438.</p> </li> <li> <p>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043d\u0430\u044f \u0437\u0430\u0449\u0438\u0442\u0430: \u0420\u043e\u0439 \u043e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u0432\u044b\u0441\u043e\u043a\u0438\u043c \u0443\u0440\u043e\u0432\u043d\u0435\u043c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u0442\u0430\u043a \u043a\u0430\u043a \u043e\u043d \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0432 \u0441\u0435\u0442\u0438, \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0437\u0430\u0449\u0438\u0442\u0443 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u0433\u043b\u0443\u0431\u043e\u043a\u043e\u043c \u0443\u0440\u043e\u0432\u043d\u0435.</p> </li> </ul>"},{"location":"architecture/","title":"\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435","text":"<p>\u0426\u0435\u043b\u044c \u044d\u0442\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 - \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442-\u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443 \"\u0420\u043e\u0439\". \u041e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0435\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0438 API \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438.</p> <pre><code>flowchart LR\n    A[\u041a\u043b\u0438\u0435\u043d\u0442] --&gt;|https| C(API)\n    B[\u0410\u0433\u0435\u043d\u0442] --&gt;|grpc| C(API)\n    C --&gt; |sql| D[\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445]\n</code></pre>"},{"location":"architecture/#\u043f\u043e\u0434\u0441\u0435\u0442\u044c","title":"\u041f\u043e\u0434\u0441\u0435\u0442\u044c","text":"<p>\u041f\u043e\u0434\u0441\u0435\u0442\u044c - \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u043d\u0430\u0431\u043e\u0440 \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0440\u043e\u0435\u043c \u0434\u043b\u044f \u0441\u0432\u043e\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u044b.</p> <p>\u041f\u043e\u0434\u0441\u0435\u0442\u044c \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043d\u0430 \u0432\u0445\u043e\u0434 \u0434\u0432\u0430 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430:</p> <ul> <li>\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f</li> <li> <p>\u041f\u043e\u0434\u0441\u0435\u0442\u044c</p> Bash<pre><code>---\nname: network-1\ncird: 10.1.0.0/24\n---\nname: network-2\ncird: 10.2.0.0/24\n</code></pre> </li> </ul>"},{"location":"architecture/#\u0433\u0440\u0443\u043f\u043f\u0430-\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438","title":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438","text":"<p>\u0413\u0440\u0443\u043f\u043f\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 - \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u044e\u0449\u0438\u0439 \u043d\u0430\u0431\u043e\u0440\u044b \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0441\u0432\u044f\u0437\u0438. \u041e\u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u043a \u0440\u0435\u0441\u0443\u0440\u0441\u0430\u043c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0438 \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043e\u0441\u0442\u0443\u043f\u0430. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u0438 \u0434\u043e\u0441\u0442\u0438\u0447\u044c \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0432 \u0446\u0435\u043b\u043e\u043c.</p> <p>\u0413\u0440\u0443\u043f\u043f\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0442\u0438 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043d\u0430 \u0432\u0445\u043e\u0434 \u0434\u0432\u0430 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430:</p> <ul> <li>\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f</li> <li> <p>\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u0435\u043f\u0435\u0440\u0435\u0441\u0435\u043a\u0430\u0435\u043c\u044b\u0445 \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439</p> Bash<pre><code>---\nname: sg-1\nnetworks: \"example-1\"\n---\nname: sg-2\nnetworks: \"example-2\"\n</code></pre> </li> </ul>"},{"location":"architecture/#\u043f\u0440\u0430\u0432\u0438\u043b\u043e","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u043e","text":"<p>\u041f\u0440\u0430\u0432\u0438\u043b\u043e \u0432 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u0443\u044e \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u044c, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0434\u0432\u0443\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u0430\u043c\u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435.</p> <p>\u041f\u0440\u0430\u0432\u0438\u043b\u043e \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043d\u0430 \u0432\u0445\u043e\u0434 \u043f\u044f\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432:</p> <ul> <li>\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b (TCP,UDP)</li> <li>\u0418\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044f   (SRC SG)</li> <li>\u0418\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f    (DST SG)</li> <li>\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0440\u0442\u043e\u0432 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044f (SRC Ports)</li> <li> <p>\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0440\u0442\u043e\u0432 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f  (DST Ports)</p> Bash<pre><code>proto: \"tcp\"\nsg_from: \"sg-1\"\nsg_to: \"sg-2\"\nports_from \"1000\"\nports_to: \"2000\"\n</code></pre> </li> </ul>"},{"location":"architecture/#api","title":"API","text":"<p>\u0412 \u0446\u0435\u043d\u0442\u0440\u0435 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0438\u0441, \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u043c \u043d\u0430 \u044f\u0437\u044b\u043a\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f GO \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u043f\u043e\u0434\u0445\u043e\u0434\u043e\u0432 GRPC \u0438 REST API \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c protobuf \u0441\u0445\u0435\u043c \u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0410\u0433\u0435\u043d\u0442\u043e\u0432/\u041a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0445\u0440\u0430\u043d\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445.</p>"},{"location":"architecture/#\u0431\u0430\u0437\u0430-\u0434\u0430\u043d\u043d\u044b\u0445","title":"\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<p>\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0430\u0432\u0438\u043b \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0434\u0430\u043d\u043d\u044b\u043c \u0447\u0435\u0440\u0435\u0437 API. PostgreSQL \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0441\u0442\u044c \u0438 \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0435\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043d\u0443\u0436\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.</p>"},{"location":"architecture/#\u0430\u0433\u0435\u043d\u0442","title":"\u0410\u0433\u0435\u043d\u0442","text":"<p>\u0410\u0433\u0435\u043d\u0442\u044b, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430 \u0443\u0437\u043b\u0430\u0445, \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u044e\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0435 \u0432 API. \u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0430\u0433\u0435\u043d\u0442\u043e\u0432 \u0441 API \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b gRPC, \u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c pull-\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432. </p> <pre><code>sequenceDiagram\n  \u0410\u0433\u0435\u043d\u0442-&gt;&gt;\u0421\u0438\u0441\u0442\u0435\u043c\u0430: \u0417\u0430\u043f\u0440\u043e\u0441: \u0441\u043f\u0438\u0441\u043e\u043a IP \u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u0445?\n\n  autonumber\n  loop watchIPChanges\n      \u0421\u0438\u0441\u0442\u0435\u043c\u0430-&gt;&gt;\u0410\u0433\u0435\u043d\u0442: \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d/\u0423\u0434\u0430\u043b\u0435\u043d \u0430\u0434\u0440\u0435\u0441\n  end\n\n    # \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0438\u043c\u0435\u043d \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  \u0421\u0438\u0441\u0442\u0435\u043c\u0430--&gt;&gt;\u0410\u0433\u0435\u043d\u0442: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c IP \u0430\u0434\u0440\u0435\u0441\u043e\u0432\n  \u0410\u0433\u0435\u043d\u0442-&gt;&gt; API: \u0417\u0430\u043f\u0440\u043e\u0441: \u0433\u0440\u0443\u043f\u043f\u044b \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043e\u0442 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 IP\n  API-&gt;&gt; \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445: \u0417\u0430\u043f\u0440\u043e\u0441: \u0438\u043c\u0435\u043d\u0430 \u0433\u0440\u0443\u043f\u043f \u043f\u043e IPs\n  \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445--&gt;&gt; API: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441 \u0438\u043c\u0435\u043d\u0430\u043c\u0438 \u0433\u0440\u0443\u043f\u043f\n  API--&gt;&gt; \u0410\u0433\u0435\u043d\u0442: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441 \u0438\u043c\u0435\u043d\u0430\u043c\u0438 \u0433\u0440\u0443\u043f\u043f\n\n    # \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  \u0410\u0433\u0435\u043d\u0442-&gt;&gt; API: \u0417\u0430\u043f\u0440\u043e\u0441: \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f\n  API-&gt;&gt; \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445: \u0417\u0430\u043f\u0440\u043e\u0441: \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u0440\u0443\u043f\u043f\n  \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445--&gt;&gt; API: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u0440\u0443\u043f\u043f\n  API--&gt;&gt; \u0410\u0433\u0435\u043d\u0442: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f\n\n    # \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0438\u043c\u0435\u043d \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  \u0410\u0433\u0435\u043d\u0442-&gt;&gt; API: \u0417\u0430\u043f\u0440\u043e\u0441: \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u043e\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  API-&gt;&gt; \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445: \u0417\u0430\u043f\u0440\u043e\u0441: \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445--&gt;&gt; API: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u043e\u0442 \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  API--&gt;&gt; \u0410\u0433\u0435\u043d\u0442: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u043e\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n\n    # \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 nftables\n    \u0410\u0433\u0435\u043d\u0442-&gt;&gt; \u0421\u0438\u0441\u0442\u0435\u043c\u0430: \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e nftables\n\n  loop watchRuleChanges\n      \u0410\u0433\u0435\u043d\u0442-&gt;&gt;API: \u0417\u0430\u043f\u0440\u043e\u0441: \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0434\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\n      API-&gt;&gt;\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445: \u0417\u0430\u043f\u0440\u043e\u0441: \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0434\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\n      \u0411\u0430\u0437\u0430--&gt;&gt;API: \u041e\u0442\u0432\u0435\u0442: \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0434\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\n      API--&gt;&gt;\u0410\u0433\u0435\u043d\u0442: \u041e\u0442\u0432\u0435\u0442: \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0434\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\n  end\n</code></pre>"},{"location":"architecture/#\u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440","title":"\u0411\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430 (nftables) \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0443\u0442\u0435\u043c \u043f\u0440\u044f\u043c\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 golang \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 \u0434\u043b\u044f nftables. \u041a\u043e\u043d\u0442\u0435\u043d\u0442 \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0430\u0433\u0435\u043d\u0442\u043e\u043c \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0439 \u043e\u0442 API \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438. \u0412 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u0442\u0440\u0430\u0444\u0438\u043a\u0430, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u043e\u0432 \u0438 \u043f\u043e\u0440\u0442\u043e\u0432.</p>"},{"location":"architecture_abstractions/","title":"\u0410\u0431\u0441\u0442\u0440\u0430\u043a\u0446\u0438\u0438","text":""},{"location":"architecture_abstractions/#\u043f\u043e\u0434\u0441\u0435\u0442\u044c","title":"\u041f\u043e\u0434\u0441\u0435\u0442\u044c","text":"<p>\u041f\u043e\u0434\u0441\u0435\u0442\u044c - \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u043d\u0430\u0431\u043e\u0440 \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0440\u043e\u0435\u043c \u0434\u043b\u044f \u0441\u0432\u043e\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u044b.</p> <p>\u041f\u043e\u0434\u0441\u0435\u0442\u044c \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043d\u0430 \u0432\u0445\u043e\u0434 \u0434\u0432\u0430 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430:</p> <ul> <li>\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f</li> <li>\u041f\u043e\u0434\u0441\u0435\u0442\u044c</li> </ul> curlterraform Bash<pre><code>curl -X 'POST' \\\n'http://127.0.0.1:9000/v1/sync' \\\n-H 'accept: application/json' \\\n-H 'Content-Type: application/json' \\\n-d '{\n  \"networks\": {\n    \"networks\": [\n      {\n        \"name\": \"network-1\",\n        \"network\": {\n          \"CIDR\": \"10.1.0.0/24\"\n        }\n      },\n      {\n        \"name\": \"network-2\",\n        \"network\": {\n          \"CIDR\": \"10.2.0.0/24\"\n        }\n      }\n    ]\n  },\n  \"syncOp\": \"FullSync\"\n}'\n</code></pre> Terraform<pre><code>resource \"sgroups_network\" \"network-1\" {\nname    = network-1\ncidr    = 10.1.0.0/24\n}\nresource \"sgroups_network\" \"network-2\" {\nname    = network-2\ncidr    = 10.2.0.0/24\n}\n</code></pre>"},{"location":"architecture_abstractions/#\u0433\u0440\u0443\u043f\u043f\u0430-\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438","title":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438","text":"<p>\u0413\u0440\u0443\u043f\u043f\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 - \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u044e\u0449\u0438\u0439 \u043d\u0430\u0431\u043e\u0440\u044b \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0441\u0432\u044f\u0437\u0438. \u041e\u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u043a \u0440\u0435\u0441\u0443\u0440\u0441\u0430\u043c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0438 \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043e\u0441\u0442\u0443\u043f\u0430. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u0438 \u0434\u043e\u0441\u0442\u0438\u0447\u044c \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0432 \u0446\u0435\u043b\u043e\u043c.</p> <p>\u0413\u0440\u0443\u043f\u043f\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0442\u0438 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043d\u0430 \u0432\u0445\u043e\u0434 \u0434\u0432\u0430 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430:</p> <ul> <li>\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f</li> <li>\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u0435\u043f\u0435\u0440\u0435\u0441\u0435\u043a\u0430\u0435\u043c\u044b\u0445 \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439</li> </ul> curlterraform Bash<pre><code>curl -X 'POST' \\\n'http://127.0.0.1:9000/v1/sync' \\\n-H 'accept: application/json' \\\n-H 'Content-Type: application/json' \\\n-d '{\n  \"groups\": {\n    \"groups\": [\n      {\n        \"name\": \"security-group-1\",\n        \"networks\": [\n          {\"name\": \"network-1\"}\n        ]\n      },\n      {\n        \"name\": \"security-group-2\",\n        \"networks\": [\n          {\"name\": \"network-2\"}\n        ]\n      }\n    ]\n  },\n  \"syncOp\": \"FullSync\"\n}'\n</code></pre> Terraform<pre><code>resource \"sgroups_group\" \"group-1\" {\ndepends_on = [\nsgroups_network.network-1\n]\nname        = \"security-group-1\"\nnetworks    = \"network-1\"\n}\nresource \"sgroups_group\" \"group-2\" {\ndepends_on = [\nsgroups_network.network-2\n]\nname        = \"security-group-2\"\nnetworks    = \"network-2\"\n}\n</code></pre>"},{"location":"architecture_abstractions/#\u043f\u0440\u0430\u0432\u0438\u043b\u043e","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u043e","text":"<p>\u041f\u0440\u0430\u0432\u0438\u043b\u043e \u0432 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u0443\u044e \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u044c, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0434\u0432\u0443\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u0430\u043c\u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435.</p> <p>\u041f\u0440\u0430\u0432\u0438\u043b\u043e \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043d\u0430 \u0432\u0445\u043e\u0434 \u043f\u044f\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432:</p> <ul> <li>\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b (TCP,UDP)</li> <li>\u0418\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044f   (SRC SG)</li> <li>\u0418\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f    (DST SG)</li> <li>\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0440\u0442\u043e\u0432 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044f (SRC Ports)</li> <li>\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0440\u0442\u043e\u0432 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f  (DST Ports)</li> </ul> curlterraform Bash<pre><code>curl -X 'POST' \\\n'http://127.0.0.1:9000/v1/sync' \\\n-H 'accept: application/json' \\\n-H 'Content-Type: application/json' \\\n-d '{\n  \"sgRules\": {\n    \"rules\": [\n      {\n        \"transport\": \"TCP\",\n        \"sgFrom\": {\n          \"name\": \"security-group-1\"\n        },\n        \"portsFrom\": [\n          {\"from\": 100, \"to\": 200},\n          {\"from\": 300, \"to\": 400}\n        ],\n        \"sgTo\": {\n          \"name\": \"security-group-2\"\n        },\n        \"portsTo\": [\n          {\"from\": 500, \"to\": 600},\n          {\"from\": 700, \"to\": 800}\n        ]        \n      }\n    ]\n  },\n  \"syncOp\": \"FullSync\"\n}'\n</code></pre> Terraform<pre><code>resource \"sgroups_rule\" \"rules\" {\ndepends_on = [\nsgroups_group.group-1,\nsgroups_group.group-2,\n]\nproto       = \"tcp\"\nsg_from     = \"security-group-1\"\nsg_to       = \"security-group-2\"\nports_from  = \"100-200,300-400\"\nports_to    = \"500-600,700-800\"\n}\n</code></pre> <p>\u041e\u043f\u0446\u0438\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438</p> <p>FullSync: \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 + \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 + \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e)</p> <p>Upsert: \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 + \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435</p> <p>Delete: \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435</p>"},{"location":"architecture_components/","title":"\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b","text":"<pre><code>flowchart LR\n    A[\u041a\u043b\u0438\u0435\u043d\u0442] --&gt;|https| C(API)\n    B[\u0410\u0433\u0435\u043d\u0442] --&gt;|grpc| C(API)\n    C --&gt; |sql| D[\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445]\n    B --&gt; E[\u0411\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440] \n</code></pre>"},{"location":"architecture_components/#api","title":"API","text":"<p>\u0412 \u0446\u0435\u043d\u0442\u0440\u0435 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0438\u0441, \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u043c \u043d\u0430 \u044f\u0437\u044b\u043a\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f GO \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u043f\u043e\u0434\u0445\u043e\u0434\u043e\u0432 GRPC \u0438 REST API \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c protobuf \u0441\u0445\u0435\u043c \u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0410\u0433\u0435\u043d\u0442\u043e\u0432/\u041a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0445\u0440\u0430\u043d\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445.</p>"},{"location":"architecture_components/#\u0431\u0430\u0437\u0430-\u0434\u0430\u043d\u043d\u044b\u0445","title":"\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<p>\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0430\u0432\u0438\u043b \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0434\u0430\u043d\u043d\u044b\u043c \u0447\u0435\u0440\u0435\u0437 API. PostgreSQL \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0441\u0442\u044c \u0438 \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0435\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043d\u0443\u0436\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.</p>"},{"location":"architecture_components/#\u0430\u0433\u0435\u043d\u0442","title":"\u0410\u0433\u0435\u043d\u0442","text":"<p>\u0410\u0433\u0435\u043d\u0442\u044b, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430 \u0443\u0437\u043b\u0430\u0445, \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u044e\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0435 \u0432 API. \u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0430\u0433\u0435\u043d\u0442\u043e\u0432 \u0441 API \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b gRPC, \u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c pull-\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432. </p> <pre><code>sequenceDiagram\n  \u0410\u0433\u0435\u043d\u0442-&gt;&gt;\u0421\u0438\u0441\u0442\u0435\u043c\u0430: \u0417\u0430\u043f\u0440\u043e\u0441: \u0441\u043f\u0438\u0441\u043e\u043a IP \u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u0445?\n\n  autonumber\n  loop watchIPChanges\n      \u0421\u0438\u0441\u0442\u0435\u043c\u0430-&gt;&gt;\u0410\u0433\u0435\u043d\u0442: \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d/\u0423\u0434\u0430\u043b\u0435\u043d \u0430\u0434\u0440\u0435\u0441\n  end\n\n    # \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0438\u043c\u0435\u043d \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  \u0421\u0438\u0441\u0442\u0435\u043c\u0430--&gt;&gt;\u0410\u0433\u0435\u043d\u0442: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c IP \u0430\u0434\u0440\u0435\u0441\u043e\u0432\n  \u0410\u0433\u0435\u043d\u0442-&gt;&gt; API: \u0417\u0430\u043f\u0440\u043e\u0441: \u0433\u0440\u0443\u043f\u043f\u044b \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043e\u0442 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 IP\n  API-&gt;&gt; \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445: \u0417\u0430\u043f\u0440\u043e\u0441: \u0438\u043c\u0435\u043d\u0430 \u0433\u0440\u0443\u043f\u043f \u043f\u043e IPs\n  \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445--&gt;&gt; API: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441 \u0438\u043c\u0435\u043d\u0430\u043c\u0438 \u0433\u0440\u0443\u043f\u043f\n  API--&gt;&gt; \u0410\u0433\u0435\u043d\u0442: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441 \u0438\u043c\u0435\u043d\u0430\u043c\u0438 \u0433\u0440\u0443\u043f\u043f\n\n    # \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  \u0410\u0433\u0435\u043d\u0442-&gt;&gt; API: \u0417\u0430\u043f\u0440\u043e\u0441: \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f\n  API-&gt;&gt; \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445: \u0417\u0430\u043f\u0440\u043e\u0441: \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u0440\u0443\u043f\u043f\n  \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445--&gt;&gt; API: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u0440\u0443\u043f\u043f\n  API--&gt;&gt; \u0410\u0433\u0435\u043d\u0442: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f\n\n    # \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0438\u043c\u0435\u043d \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  \u0410\u0433\u0435\u043d\u0442-&gt;&gt; API: \u0417\u0430\u043f\u0440\u043e\u0441: \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u043e\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  API-&gt;&gt; \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445: \u0417\u0430\u043f\u0440\u043e\u0441: \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445--&gt;&gt; API: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u043e\u0442 \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n  API--&gt;&gt; \u0410\u0433\u0435\u043d\u0442: \u041e\u0442\u0432\u0435\u0442: \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u043e\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0433\u0440\u0443\u043f\u043f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\n\n    # \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 nftables\n    \u0410\u0433\u0435\u043d\u0442-&gt;&gt; \u0421\u0438\u0441\u0442\u0435\u043c\u0430: \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e nftables\n\n  loop watchRuleChanges\n      \u0410\u0433\u0435\u043d\u0442-&gt;&gt;API: \u0417\u0430\u043f\u0440\u043e\u0441: \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0434\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\n      API-&gt;&gt;\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445: \u0417\u0430\u043f\u0440\u043e\u0441: \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0434\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\n      \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445--&gt;&gt;API: \u041e\u0442\u0432\u0435\u0442: \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0434\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\n      API--&gt;&gt;\u0410\u0433\u0435\u043d\u0442: \u041e\u0442\u0432\u0435\u0442: \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0434\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\n  end\n</code></pre>"},{"location":"architecture_components/#\u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440","title":"\u0411\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430 (nftables) \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0443\u0442\u0435\u043c \u043f\u0440\u044f\u043c\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 golang \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 \u0434\u043b\u044f nftables. \u041a\u043e\u043d\u0442\u0435\u043d\u0442 \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0430\u0433\u0435\u043d\u0442\u043e\u043c \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0439 \u043e\u0442 API \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438. \u0412 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u0442\u0440\u0430\u0444\u0438\u043a\u0430, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u043e\u0432 \u0438 \u043f\u043e\u0440\u0442\u043e\u0432.</p>"},{"location":"quick_installation_agent/","title":"\u0410\u0433\u0435\u043d\u0442","text":""},{"location":"quick_installation_agent/#\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"dockerdebrpmsource Bash<pre><code>export VERSION=1.0.4\nexport HBF_SERVER=example.com:80\n\ncat &lt;&lt;EOF &gt; config-agent.yaml\n---\nserver:\n  graceful-shutdown: 10s\n  logger:\n    # log level [optional]\n    level: INFO\n  extapi:\n    svc:\n      # default dial duraton to conect a service [optional]\n      def-daial-duration: 10s\n      sgroups:\n        # sgroups service dial duration [optional]\n        dial-duration: 3s\n        # service address [mandatory]\n        address: tcp://${HBF_SERVER}\n        # interval(duration) backend sync-status check [mandatory]\n        check-sync-status: 15s\nEOF\ndocker run \\\n-d \\\n-v $(pwd)/config-agent.yaml:/etc/hbf/agent/config-agent.yaml \\\n--name hbf-agent \\\n--entrypoint \"./bin/sgroups\"  fraima/hbf-client:$VERSION -config /etc/hbf/agent/config-agent.yaml\n</code></pre> Bash<pre><code>export VERSION=1.0.4\nexport ARCH=amd64\nexport PACKAGE_TYPE=deb\nexport URL=https://github.com/fraima/swarm/releases/download\nexport RELEASE=$VERSION/to-nft_$VERSION-0_$ARCH.$PACKAGE_TYPE\nsudo wget -O /tmp/to-nft $URL/$RELEASE\nsudo dpkg -i /tmp/to-nft\nsystemctl enable to-nft\nsystemctl start to-nft\n</code></pre> Bash<pre><code>export VERSION=1.0.4\nexport ARCH=x86_64\nexport PACKAGE_TYPE=rpm\nexport URL=https://github.com/fraima/swarm/releases/download\nexport RELEASE=$VERSION/to-nft_$VERSION-0_$ARCH.$PACKAGE_TYPE\nsudo wget -O /tmp/to-nft $URL/$RELEASE\nsudo dpkg -i /tmp/to-nft\nsystemctl enable to-nft\nsystemctl start to-nft\n</code></pre> Bash<pre><code>export VERSION=1.0.4\nexport HBF_SERVER=example.com:80\n\n## INSTALL SERVER\ngit clone https://github.com/fraima/swarm.git\ncd sgroups\nmake to-nft\ncp bin/to-nft /usr/bin/to-nft\n\nmkdir -p /etc/hbf/agent/\ncat &lt;&lt;EOF &gt; /etc/hbf/agent/config-agent.yaml\n---\nserver:\n  graceful-shutdown: 10s\n  logger:\n    level: INFO\n  extapi:\n    svc:\n      def-daial-duration: 10s\n      sgroups:\n        dial-duration: 3s\n        address: tcp://${HBF_SERVER}\n        check-sync-status: 15s\nEOF\ncat &lt;&lt;EOF &gt; /etc/systemd/system/hbf-agent.service\n[Unit]\nDescription=hbf agent\nDocumentation=https://docs.fraima.io\nAfter=network.target\n[Service]\nExecStart=/usr/bin/hbf-agent --config=/etc/hbf/agent/config.yaml\nRestart=always\nRestartSec=5\nDelegate=yes\nKillMode=process\nOOMScoreAdjust=-999\nLimitNOFILE=1048576\nLimitNPROC=infinity\nLimitCORE=infinity\n[Install]\nWantedBy=multi-user.target\nEOF\nsystemctl enable hbf-agent.service\nsystemctl start  hbf-agent.service\n</code></pre>"},{"location":"quick_installation_agent/#\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u0433\u0435\u043d\u0442\u043e\u0432 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043f\u043e\u043b\u044f, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u043f\u043e\u0442\u0440\u0435\u0431\u043d\u043e\u0441\u0442\u044f\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.</p> YAML<pre><code>---\nserver:\ngraceful-shutdown: 10s\nlogger:\n# log level [optional]\nlevel: INFO\nextapi:\nsvc:\n# default dial duraton to conect a service [optional]\ndef-daial-duration: 10s\nsgroups:\n# sgroups service dial duration [optional]\ndial-duration: 3s\n# service address [mandatory]\naddress: tcp://${hbf_server}:9000\n# interval(duration) backend sync-status check [mandatory]\ncheck-sync-status: 15s\n</code></pre>"},{"location":"quick_installation_req/","title":"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"<p>\u0420\u043e\u0439 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c \u0441  <code>x86_64</code>, <code>amd64</code>, <code>armhf</code>, <code>arm64</code>,  <code>s390x</code> \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430\u043c\u0438.</p> <p>\u0414\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f:</p> <p><code>linux kernel &gt;= 3.10.0</code></p> <p><code>nft --version &gt;= v0.9.3 (Topsy)</code></p> <p><code>go version &gt;= 1.19</code></p> <p><code>postgresql</code></p>"},{"location":"quick_installation_server/","title":"\u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c","text":""},{"location":"quick_installation_server/#\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"dockerdebrpmsource Bash<pre><code>export VERSION=1.0.4\ncat &lt;&lt;EOF &gt; config-server.yaml\n---\nlogger:\n    # log level\n    level: INFO\nmetrics:\n    # enable api metrics\n    enable: true\nhealthcheck:\n    # enables|disables health check handler\n    enable: true\nserver:\n    # server endpoint\n    endpoint: tcp://0.0.0.0:9006\n    # graceful shutdown period\n    graceful-shutdown: 30s\nEOF\ndocker run \\\n-d \\\n-v $(pwd)/config-server.yaml:/etc/hbf/server/config-server.yaml \\\n--name hbf-server \\\n--entrypoint \"./bin/sgroups\"  fraima/hbf-server:$VERSION -config /etc/hbf/server/config-server.yaml\n</code></pre> Bash<pre><code>export VERSION=1.0.4\nexport ARCH=amd64\nexport PACKAGE_TYPE=deb\nexport URL=https://github.com/fraima/swarm/releases/download\nexport RELEASE=$VERSION/sgroups_$VERSION-0_$ARCH.$PACKAGE_TYPE\nsudo wget -O /tmp/sgroups $URL/$RELEASE\nsudo dpkg -i /tmp/sgroups\nsystemctl enable sgroups\nsystemctl start sgroups\n</code></pre> Bash<pre><code>export VERSION=1.0.4\nexport ARCH=x86_64\nexport PACKAGE_TYPE=rpm\nexport URL=https://github.com/fraima/swarm/releases/download\nexport RELEASE=$VERSION/sgroups_$VERSION-0_$ARCH.$PACKAGE_TYPE\nsudo wget -O /tmp/sgroups $URL/$RELEASE\nsudo dpkg -i /tmp/sgroups\nsystemctl enable sgroups\nsystemctl start sgroups\n</code></pre> Bash<pre><code>## INSTALL SERVER\ngit clone https://github.com/fraima/swarm.git\ncd sgroups\nmake sg-service\ncp bin/sg-service /usr/bin/hbf-server\n\ncat &lt;&lt;EOF &gt; /etc/hbf/config-server.yaml\n---\nlogger:\n  # log level\n  level: INFO\nmetrics:\n  # enable api metrics\n  enable: true\nhealthcheck:\n  # enables|disables health check handler\n  enable: true\nserver:\n  # server endpoint\n  endpoint: tcp://0.0.0.0:9006\n  # graceful shutdown period\n  graceful-shutdown: 30s\nEOF\ncat &lt;&lt;EOF &gt; /etc/systemd/system/hbf-server.service\n[Unit]\nDescription=sgroups\nDocumentation=https://docs.hbf.fraima.io\nAfter=network.target\n[Service]\nExecStart=/usr/bin/sgroups --config=/etc/hbf/server/config.yaml\nRestart=always\nRestartSec=5\nDelegate=yes\nKillMode=process\nOOMScoreAdjust=-999\nLimitNOFILE=1048576\nLimitNPROC=infinity\nLimitCORE=infinity\n[Install]\nWantedBy=multi-user.target\nEOF\nsystemctl enable hbf-server.service\nsystemctl start hbf-server.service\n</code></pre>"},{"location":"quick_installation_server/#\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043f\u043e\u043b\u044f, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u043f\u043e\u0442\u0440\u0435\u0431\u043d\u043e\u0441\u0442\u044f\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.</p> YAML<pre><code>---\nlogger:\n# log level\nlevel: INFO\nmetrics:\n# enable api metrics\nenable: true\nhealthcheck:\n# enables|disables health check handler\nenable: true\nserver:\n# server endpoint\nendpoint: tcp://0.0.0.0:9006\n# graceful shutdown period\ngraceful-shutdown: 30s\n</code></pre>"},{"location":"quick_installation_terraform/","title":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":""},{"location":"quick_installation_terraform/#terraform-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440","title":"Terraform \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440","text":"binsource Bash<pre><code>export VERSION=1.0.4\nexport OS=linux\nexport ARCH=amd64\nexport GIT=https://github.com/fraima/swarm/releases/download/${VERSION}\nexport RELEASE_NAME=terraform-provider-sgroups\nexport RELEASE_POSTFIX=${RELEASE_NAME}-${VERSION}-${OS}-${ARCH}.tar.gz\nexport PLUGIN_PATH=~/.terraform.d/plugins/registry.terraform.io/fraima/swarm\n\nmkdir -p $PLUGIN_PATH/$VERSION/${OS}_${ARCH}\nwget -O ${PLUGIN_PATH}/${VERSION}/${OS}_${ARCH}/${RELEASE_NAME}_v${VERSION} ${GIT}/${RELEASE_POSTFIX}\nchmod +x ${PLUGIN_PATH}/${VERSION}/${OS}_${ARCH}/${RELEASE_NAME}_v${VERSION}\ncat &lt;&lt;EOF &gt;&gt; ~/.terraformrc\nplugin_cache_dir = \"${HOME}/.terraform.d/plugin-cache\"\ndisable_checkpoint = true\nEOF\n</code></pre> Bash<pre><code>export VERSION=1.0.4\nexport OS=linux\nexport ARCH=amd64\nexport RELEASE_NAME=terraform-provider-sgroups\nexport PLUGIN_PATH=~/.terraform.d/plugins/registry.terraform.io/fraima/swarm\n\ngit clone https://github.com/fraima/swarm.git\ncd sgroups\nmake sgroups-tf\ncp bin/${RELEASE_NAME} ${PLUGIN_PATH}/${VERSION}/${OS}_${ARCH}/${RELEASE_NAME}_v${VERSION}\nmkdir -p $PLUGIN_PATH/$VERSION/${OS}_${ARCH}\nchmod +x ${PLUGIN_PATH}/${VERSION}/${OS}_${ARCH}/${RELEASE_NAME}_v${VERSION}\ncat &lt;&lt;EOF &gt;&gt; ~/.terraformrc\nplugin_cache_dir = \"${HOME}/.terraform.d/plugin-cache\"\ndisable_checkpoint = true\nEOF\n</code></pre>"},{"location":"quick_start/","title":"\u041a\u0430\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f","text":""},{"location":"quick_start/#\u043a\u0430\u043a-\u043d\u0430\u0447\u0430\u0442\u044c","title":"\u041a\u0430\u043a \u043d\u0430\u0447\u0430\u0442\u044c?","text":"<p>\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043c\u044b \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c \u0434\u0432\u0430 \u0441\u043f\u043e\u0441\u043e\u0431\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043d\u0430\u0448\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b: </p> <ul> <li>\u041d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0447\u0435\u0440\u0435\u0437 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 API. -&gt; swagger</li> <li>\u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Terraform \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430.</li> </ul> <p>\u0415\u0441\u043b\u0438 \u0432\u044b \u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u0447\u0435\u0440\u0435\u0437 API, \u0442\u043e \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043a \u043d\u0430\u0448\u0435\u043c\u0443 API, \u0447\u0442\u043e\u0431\u044b \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0432 \u0432\u0430\u0448 \u043f\u0440\u043e\u0446\u0435\u0441\u0441.</p> <p>\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u043e, \u0435\u0441\u043b\u0438 \u0432\u044b \u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u0447\u0435\u0440\u0435\u0437 Terraform, \u0442\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430\u0448\u0438\u043c \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c \u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0432 Terraform \u0444\u0430\u0439\u043b\u0435. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u0432\u0430\u043c \u0431\u044b\u0441\u0442\u0440\u043e \u0438 \u043b\u0435\u0433\u043a\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0433\u043e\u0442\u043e\u0432\u044b\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432.</p> <p>\u041d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438, \u043c\u044b \u0433\u043e\u0442\u043e\u0432\u044b \u043f\u043e\u043c\u043e\u0447\u044c \u0432\u0430\u043c \u0434\u043e\u0441\u0442\u0438\u0447\u044c \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u043e\u0433\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0438 \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c hbf \u0432 \u0432\u0430\u0448\u0443 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443.</p>"},{"location":"quick_start/#\u043f\u0440\u0438\u043c\u0435\u0440","title":"\u041f\u0440\u0438\u043c\u0435\u0440","text":"<p>\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u043e\u0436\u0438\u043c, \u0447\u0442\u043e \u0443 \u043d\u0430\u0441 \u0434\u0432\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b <code>teamA</code> \u0438 <code>teamB</code>, \u043a\u043e\u043c\u0430\u043d\u0434\u0430 <code>teamA</code> \u043f\u0438\u0448\u0435\u0442 \u0431\u0435\u043a\u0435\u043d\u0434, \u0430 <code>teamB</code> \u043f\u0438\u0448\u0435\u0442 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434. \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u0432\u0435 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u043e\u0434\u043d\u0443 \u0434\u043b\u044f <code>teamA</code> \u0432\u0442\u043e\u0440\u0443\u044e \u0434\u043b\u044f <code>teamB</code> \u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043e\u0442 <code>teamA/backend</code> \u0434\u043e <code>teamB/frontend</code> \u043f\u043e <code>80/TCP</code>.</p> <p>\u0414\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u0430\u043d\u043d\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438 \u043c\u044b \u0432\u0432\u0435\u043b\u0438 4 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0446\u0438\u0438.</p> <ul> <li><code>unit</code> - \u0432\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 (<code>teamA</code>, <code>teamB</code>)</li> <li><code>security group</code> - \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u043f\u043e\u0434\u0441\u0435\u0442\u0438, \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0443\u0437\u043b\u043e\u0432. (<code>frontend</code>, <code>backend</code>)</li> <li><code>networks</code> - \u043f\u043e\u0434\u0441\u0435\u0442\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0445 \u0443\u0437\u043b\u043e\u0432.</li> <li><code>rule</code> - \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043c\u0435\u0436\u0434\u0443 <code>security group</code> \u043a\u0430\u043a \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u043e\u0434\u043d\u043e\u0433\u043e \u0442\u0430\u043a \u0438 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0440\u0430\u0437\u043d\u044b\u0445 <code>unit</code>.</li> </ul> Yandex-Cloudhbf <p>Bash<pre><code>cat &lt;&lt;EOF &gt;&gt; templates/cloudi-init.yaml\n#cloud-config\nversion: v1\nusers:\n  - name: dkot\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    groups: users, admin\n    shell: /bin/bash\n    lock_passwd: true\n    ssh_authorized_keys:\n      - ${SSH_PUBLIC_KEY}\npackages:\n  - nftables\n  - git\nruncmd:\n  - git clone https://github.com/H-BF/sgroups\n  - cd sgroups\n  - make to-nft\n  - cp bin/to-nft /usr/bin/hbf-client\n  - chmod +x /usr/bin/hbf-client\n  - systemctl enable  hbf.service\n  - systemctl start   hbf.service\nwrite_files:\n  - path: /etc/hbf/client.yaml\n    owner: root:root\n    permissions: '0644'\n    content: |\n        ---\n        graceful-shutdown: 10s\n        logger:\n            level: INFO\n        extapi:\n            svc:\n            def-daial-duration: 10s\n            sgroups:\n                dial-duration: 3s\n                address: tcp://193.32.219.99:9000\n                check-sync-status: 5s\n  - path: /etc/systemd/system/hbf-client.service\n    owner: root:root\n    permissions: '0644'\n    content: |\n        [Unit]\n        Description=hbf\n        Wants=network-online.target\n        After=network-online.target\n        [Service]\n        ExecStart=/usr/bin/hbf-client -config /etc/hbf/client.yaml\n        Restart=always\n        StartLimitInterval=0\n        RestartSec=10\n        [Install]\n        WantedBy=multi-user.target\nEOF\n</code></pre> Terraform<pre><code>    &lt;\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430&gt;\n    # \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c VPC\nresource \"yandex_vpc_network\" \"hbf-vpc\" {\nname = \"hbf-vpc\"\n}\n    # \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0442\u0435\u0441\u0442\u043e\u0432\u0443\u044e \u043f\u043e\u0434\u0441\u0435\u0442\u044c \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0434\u0435\u043b\u044f\u0442\u044c\u0441\u044f \u0430\u0434\u0440\u0435\u0441\u0430 \u0434\u043b\u044f \u0412\u041c.\nresource \"yandex_vpc_subnet\" \"hbf-subnet\" {\nname            = \"hbf-subnet\"\nv4_cidr_blocks  = [\"10.143.0.0/24\"]\nzone            =  \"ru-central1-a\"\nnetwork_id      = yandex_vpc_network.hbf-vpc.id\n}\nresource \"yandex_compute_instance\" \"team-a-backend\" {\ndescription = \"HBF-TEAM-A-BACKEND\"\nplatform_id = \"standard-v1\"\nzone = \"ru-central1-a\"\nresources {\ncores         = 2\nmemory        = 4\ncore_fraction = 100\n}\nboot_disk {\ninitialize_params {\nimage_id = \"fd8kdq6d0p8sij7h5qe3\"\nsize     = 30\ntype     = \"network-hdd\"\n}\n}\nnetwork_interface {\nsubnet_id = yandex_vpc_subnet.hbf-subnet.id\nnat = true\n}\nlifecycle {\nignore_changes = [\n            metadata\n]\n}\nmetadata = {\nuser-data = \"${file(\"templates/cloudi-init.yaml\")}\"\n}\n}\nresource \"yandex_compute_instance\" \"team-a-frontend\" {\ndescription = \"HBF-TEAM-A-FRONTEND\"\nplatform_id = \"standard-v1\"\nzone = \"ru-central1-a\"\nresources {\ncores         = 2\nmemory        = 4\ncore_fraction = 100\n}\nboot_disk {\ninitialize_params {\nimage_id = \"fd8kdq6d0p8sij7h5qe3\"\nsize     = 30\ntype     = \"network-hdd\"\n}\n}\nnetwork_interface {\nsubnet_id = yandex_vpc_subnet.hbf-subnet.id\nnat = true\n}\nlifecycle {\nignore_changes = [\n            metadata\n]\n}\nmetadata = {\nuser-data = \"${file(\"templates/cloudi-init.yaml\")}\"\n}\n}\n</code></pre></p> Terraform<pre><code>    &lt;\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430&gt; locals {\nsecurity_groups  = [\n{\nname = \"teamA_backend\"\ncidrs = [\n\"${yandex_compute_instance.team-a-backend.network_interface[0].ip_address}/32\"\n]\nrules = [\n{\nsg_to  = \"teamA_frontend\"\naccess = [\n{\ndescription = \"access from teamA_backend to teamA_frontend\"\nprotocol    = \"tcp\"\nports_to    = [\n80,\n443\n]\n},\n]\n},\n{\nsg_to  = \"hbf-server\"\naccess = [\n{\ndescription = \"access from teamA_backend to hbf-server\"\nprotocol    = \"tcp\"\nports_to    = [\n9000\n]\n}\n]\n},\n]\n},\n{\nname = \"teamA_frontend\"\ncidrs = [\n\"${yandex_compute_instance.team-a-frontend.network_interface[0].ip_address}/32\"\n]\nrules = [\n{\nsg_to   = \"hbf-server\"\naccess  = [\n{\ndescription = \"access from teamA_backend to hbf-server\"\nprotocol    = \"tcp\"\nports_to    = [\n9000\n]\n}\n]\n},\n]\n},\n{\nname = \"hbf-server\"\ncidrs = [\n\"193.32.219.99/32\"\n]\nrules = []\n},\n{\nname = \"world\"\ncidrs = [\n\"176.0.0.0/8\"\n]\nrules = [\n{\nsg_to  = \"teamA_backend\"\naccess = [\n{\ndescription = \"access from world to teamA_backend by ssh\"\nprotocol    = \"tcp\"\nports_to    = [\n22\n]\n},\n]\n},\n{\nsg_to  = \"teamA_frontend\"\naccess = [\n{\ndescription = \"access from world to teamA_frontend by ssh\"\nprotocol    = \"tcp\"\nports_to    = [\n22\n]\n}\n]\n},\n]\n}\n]\n}\nmodule \"firewall\" {\ndepends_on = [\nyandex_compute_instance.team-a-backend,\nyandex_compute_instance.team-a-frontend\n]\nsource = \"../modules/hbf\"\nsecurity_groups = local.security_groups\n}\n</code></pre>"},{"location":"struct/","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430:","text":"Failure <ul> <li>\u0422\u0435 \u043a\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0441 K8S \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430\u043c\u0438, \u0432\u0438\u0434\u0438\u043b\u0438 \u043a\u0430\u043a \u0440\u0430\u0437\u0434\u0443\u0432\u0430\u0435\u0442\u0441\u044f iptables \u0432 \u043a\u043e\u043b-\u0432\u0435 \u043f\u0440\u0430\u0432\u0438\u043b \u0438\u0437-\u0437\u0430 \u0447\u0435\u0433\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u0430\u0432\u0438\u043b \u043c\u043e\u0433\u043b\u0438 \u0434\u043e\u0441\u0442\u0438\u0433\u0430\u0442\u044c \u043c\u0438\u043d\u0443\u0442\u044b.</li> </ul> <p>\u0422.\u043a \u043c\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043e\u0431\u0440\u0435\u043c\u0435\u043d\u0435\u043d\u044b \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u043c\u0438 iptables, \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0438 \u0431\u0435\u0437 \u043e\u043f\u0430\u0441\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0435\u0442\u044c \u0447\u0435\u0439-\u0442\u043e chain, \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b.</p> <p>\u041a\u043e\u043b-\u0432\u043e \u043f\u0440\u0430\u0432\u0438\u043b \u043c\u044b \u0441\u043c\u043e\u0433\u043b\u0438 \u0441\u043e\u043a\u0440\u0430\u0442\u0438\u0442\u044c \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u043c\u0443 \u043f\u043e\u0434\u0445\u043e\u0434\u0443 5 tuple: </p> <p><code>srcIP</code>, <code>srcPORT</code>, <code>dstIP</code>, <code>dstPORT</code>, <code>protocol</code>  | verdict</p> <p>\u0433\u0434\u0435 <code>srcIP</code>, <code>srcPORT</code>, <code>dstIP</code>, <code>dstPORT</code> \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f IPSET \u043c\u0430\u0441\u0441\u0438\u0432\u0430\u043c\u0438 \u0441 rangeIP, rangePort.</p> <p>\u0414\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0438 \u043c\u044b \u0432\u0432\u043e\u0434\u0438\u043c \u0442\u0430\u043a\u043e\u0435 \u043f\u043e\u043d\u044f\u0442\u0438\u0435 \u043a\u0430\u043a SG=Security-Group.</p> Info <p>SG - \u044d\u0442\u043e \u0441\u0432\u043e\u0435\u0433\u043e \u0440\u043e\u0434\u0430 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u043e\u0442 /32 \u0434\u043e /0 \u0438 \u043e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u0434\u0432\u0443\u043c\u044f \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\u043c\u0438:</p> <ul> <li>Owner</li> <li>Subnets</li> </ul> Danger <p>\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 - \u043e\u0434\u043d\u0430 \u043f\u043e\u0434\u0441\u0435\u0442\u044c \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u043e\u0434\u043d\u043e\u0439 SG.</p> <p>success: {\"sg-1\":     \"10.0.0.0/25\" \"sg-2\":     \"10.0.0.128/25\"}</p> <p>failed: {\"sg-1\":     \"10.0.0.0/24\" \"sg-2\":     \"10.0.0.128/25\"}</p> <p>\u043a\u0430\u043a \u0432\u0438\u0434\u0438\u043c 10.0.0.128/25 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0447\u0430\u0441\u0442\u044c\u044e \u043f\u043e\u0434\u0441\u0435\u0442\u0438 10.0.0.0/24 </p> <p>SG \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043d\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043a\u0430\u043a \u043d\u0430\u043c \u0443\u0433\u043e\u0434\u043d\u043e, \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u043a\u0430\u043a\u043e\u0433\u043e-\u0442\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0439 \u043c\u0430\u0448\u0438\u043d\u044b \u0432 cloud \u0438\u043b\u0438 onPrem, \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0439 \u0432\u044b\u0434\u0435\u043b\u0438\u043b\u0438 IP \u0430\u0434\u0440\u0435\u0441, \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u0432  <code>SG-1 append 1.1.1.1/32</code></p> Info <ul> <li>\u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0441\u0442\u044c ip \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043d\u0435 \u0432\u0430\u0436\u043d\u0430, \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u043e\u0434\u043d\u043e\u0439 SG \u043c\u043e\u0433\u0443\u0442 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0434\u0441\u0435\u0442\u0438 \u0438\u0437 \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 (\u043e\u0442\u0434\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0442\u043a\u0443\u043f \u0418\u0411 \u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u0432)</li> <li>\u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u0443\u0434\u0435\u0442 \u0441\u0442\u0430\u0440\u0430\u0442\u044c\u0441\u044f \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0442\u044c \u0441\u043e\u0441\u0435\u0434\u043d\u0438\u0435 \u043f\u043e\u0434\u0441\u0435\u0442\u0438 \u0432 \u043f\u043e\u0434\u0441\u0435\u0442\u0438 \u0432\u044b\u0441\u0448\u0435\u0433\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0430, \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0442\u0430\u043a\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c.</li> </ul> <p>\u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0443 \u043d\u0430\u0441 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u044f\u0432\u0438\u0442\u044c\u0441\u044f \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0434\u0432\u0435 SG (SG-TEAM-A, SG-TEAM-B) \u0441 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u043c:</p> <p>\u041d\u0443\u0436\u043d\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443  SG-TEAM-A \u043c\u043e\u0436\u0435\u0442 \u0445\u043e\u0434\u0438\u0442\u044c \u0432 SG-TEAM-B \u043f\u043e \u043f\u043e\u0440\u0442\u0443 80,443</p> <p>\u0414\u043b\u044f \u0442\u0430\u043a\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0432 nftables \u0432\u0435\u0434\u0435\u043b\u0438\u0442\u0441\u044f 4 IPSET \u043c\u0430\u0441\u0441\u0438\u0432\u0430:</p> <p><code>srcIP</code>, <code>srcPORT</code>, <code>dstIP</code>, <code>dstPORT</code> \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u0441\u044f RangeIP, RangePorts \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u0443.</p> <p>\u0414\u0430\u043b\u044c\u0448\u0435 \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u043d\u0430 (SG-TEAM-A, SG-TEAM-B) \u0443\u0437\u043b\u0430\u0445.</p> <p>\u0414\u043b\u044f SG-TEAM-A \u0431\u0443\u0434\u0435\u0442 \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0446\u0435\u043f\u043e\u0447\u043a\u0430 OUTPUT c \u043f\u0440\u0430\u0432\u0438\u043b\u043e\u043c</p> <p><code>\u043e\u0442 SG-TEAM-A:IP SG-TEAM-A:PORT \u0434\u043e SG-TEAM-B:IP SG-TEAM-B:PORT | protocol | accept</code></p> <p>\u0414\u043b\u044f SG-TEAM-B \u0431\u0443\u0434\u0435\u0442 \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0446\u0435\u043f\u043e\u0447\u043a\u0430 INPUT c \u043f\u0440\u0430\u0432\u0438\u043b\u043e\u043c</p> <p><code>\u043e\u0442 SG-TEAM-A:IP SG-TEAM-A:PORT \u0434\u043e SG-TEAM-B:IP SG-TEAM-B:PORT | protocol | accept</code></p>"},{"location":"struct/#server","title":"Server","text":"<p>\u0421\u0435\u0440\u0432\u0435\u0440 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u044f\u0434\u0440\u043e\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c \u0437\u0430\u0431\u0438\u0440\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u0445\u0435\u043c\u0443 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u043f\u043e\u043b\u0438\u0442\u0438\u043a. </p>"},{"location":"struct/#client","title":"Client","text":"<p>\u041a\u043b\u0438\u0435\u043d\u0442 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442 firewall \u0443\u0437\u043b\u0430, \u043e\u0441\u043d\u043e\u0432\u044b\u0432\u0430\u044f\u0441\u044c \u043d\u0430 IP \u0430\u0434\u0440\u0435\u0441\u0430\u0445 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0435\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u0445 \u0438 \u043e\u0442\u0432\u0435\u0442\u0435 \u043e\u0442 API, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0430\u0432\u0438\u043b, \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u0446\u0435\u043f\u043e\u0447\u043a\u0438 <code>INPUT</code>, <code>OUTPUT</code>, <code>FORWARD</code>.</p> <pre><code>sequenceDiagram\n    autonumber\n    Client-&gt;&gt;Netlink: \u0435\u0441\u0442\u044c \u0447\u0435?\n    Netlink-&gt;&gt;Client: \u0434\u0435\u0440\u0436\u0438 IP!\n    loop Healthcheck\n        Netlink-&gt;&gt;Client: \u0447\u0442\u043e-\u0442\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u043b\u043e\u0441\u044c\n    end\n    Client-&gt;&gt;API: \u041a\u0442\u043e \u044f?\n    API-&gt;&gt;Client: \u0422\u044b \u0442\u0432\u0430\u0440\u044c \u0434\u0440\u043e\u0436\u0430\u0449\u0430\u044f.\n    Client-&gt;&gt;API: \u0410 \u043a\u0430\u043a\u0438\u0435 \u0443 \u043c\u0435\u043d\u044f \u043f\u0440\u0430\u0432\u0430?\n    API-&gt;&gt;Client: \u0423\u043c\u0435\u0435\u0448\u044c \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u0441  TEAM-A\n    Client-&gt;&gt;API: \u041a\u0442\u043e \u0442\u0430\u043a\u0438\u0435 TEAM-A?\n    API-&gt;&gt;Client: \u042d\u0442\u043e \u0447\u0435\u0442\u043a\u0438 \u043f\u0430\u0446\u0430\u043d\u044b!\n    Client-&gt;&gt;Nftables: \u041d\u0443 \u043e\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u044e \u043f\u0440\u0430\u0432\u0438\u043b\u043e\n\n</code></pre>"},{"location":"swagger/","title":"Swagger","text":""},{"location":"toolset/","title":"\u0412\u044b\u0431\u043e\u0440 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430","text":"<p>\u0418\u0437\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e \u0431\u044b\u043b\u043e \u043f\u0440\u0438\u043d\u044f\u0442\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044e ebpf, \u0442\u0430\u043a \u043a\u0430\u043a \u043e\u043d\u0430 \u043e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u0440\u044f\u0434\u043e\u043c \u043e\u0447\u0435\u0432\u0438\u0434\u043d\u044b\u0445 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432 \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 nftables \u0438 iptables. \u041e\u0434\u043d\u0430\u043a\u043e, \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044f \u0442\u043e\u0442 \u0444\u0430\u043a\u0442, \u0447\u0442\u043e \u043c\u043d\u043e\u0433\u0438\u0435 \u043a\u0440\u0443\u043f\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0434\u043e \u0441\u0438\u0445 \u043f\u043e\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 \u044f\u0434\u0440\u0430 Linux, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442 ebpf, \u043c\u044b \u0431\u044b\u043b\u0438 \u0432\u044b\u043d\u0443\u0436\u0434\u0435\u043d\u044b \u043f\u0435\u0440\u0435\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0432 \u043f\u043e\u043b\u044c\u0437\u0443 nftables (\u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u044b \u043d\u0438\u0436\u0435).</p> <p>\u041d\u0430\u0448\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0432\u0441\u0435\u0433\u0434\u0430 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u0442\u0440\u0435\u0431\u043d\u043e\u0441\u0442\u0438 \u043d\u0430\u0448\u0438\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0420\u043e\u044f \u043d\u0430 ebpf. \u041c\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c \u044d\u0442\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442 \u043d\u0430\u0438\u0431\u043e\u043b\u044c\u0448\u0443\u044e \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u0430\u0448\u0435\u0439 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043d\u0430\u0448\u0438\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.</p>"},{"location":"toolset/#iptables","title":"iptables","text":"\u041f\u043b\u044e\u0441\u044b <ul> <li>\u0418\u043c\u0435\u0435\u0442 \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0448\u0438\u0440\u043e\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u0435.</li> <li>\u041e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0435\u0439 \u0438 \u043e\u0431\u0448\u0438\u0440\u043d\u044b\u043c \u043d\u0430\u0431\u043e\u0440\u043e\u043c \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0434\u043b\u044f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0438 \u043e\u0442\u043b\u0430\u0434\u043a\u0438.</li> <li>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043e\u0431\u043e\u0439 \u043c\u043e\u0449\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0440\u0430\u0444\u0438\u043a\u043e\u043c \u0441 \u043e\u0431\u0448\u0438\u0440\u043d\u044b\u043c \u043d\u0430\u0431\u043e\u0440\u043e\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439.</li> <li>\u041e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0445\u043e\u0440\u043e\u0448\u0435\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u0438 \u0438\u043c\u0435\u0435\u0442 \u0448\u0438\u0440\u043e\u043a\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.</li> <li>\u0421\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438, \u0442\u0430\u043a\u0438\u043c\u0438 \u043a\u0430\u043a fail2ban, \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0437\u0430\u0449\u0438\u0442\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</li> </ul> \u041c\u0438\u043d\u0443\u0441\u044b <ul> <li>\u041e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u0441\u043b\u043e\u0436\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u0443\u0442\u0430\u043d\u043d\u044b\u043c \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u043e\u043c, \u0447\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.</li> <li>\u041d\u0435 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e, \u0447\u0442\u043e \u0443\u0441\u043b\u043e\u0436\u043d\u044f\u0435\u0442 \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438.</li> <li>\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432, \u043c\u043e\u0433\u0443\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u0435\u0435, \u0447\u0435\u043c \u0432 nftables \u0438 ebpf.</li> <li>\u0418\u043c\u0435\u0435\u0442 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u0443\u044e \u0433\u0438\u0431\u043a\u043e\u0441\u0442\u044c \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 \u0431\u043e\u043b\u0435\u0435 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u043c\u0438, \u0442\u0430\u043a\u0438\u043c\u0438 \u043a\u0430\u043a nftables \u0438 ebpf.</li> </ul>"},{"location":"toolset/#ebpf","title":"ebpf","text":"\u041f\u043b\u044e\u0441\u044b <ul> <li>\u0412\u044b\u0441\u043e\u043a\u0430\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0438 \u0433\u0438\u0431\u043a\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0438\u0433\u0430\u044e\u0442\u0441\u044f \u0437\u0430 \u0441\u0447\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f JIT-\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c. \u042d\u0442\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0432\u0430\u0436\u043d\u043e \u0432 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0441\u043b\u043e\u0436\u043d\u043e\u0439 \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b.</li> <li>\u0411\u043e\u043b\u0435\u0435 \u0448\u0438\u0440\u043e\u043a\u0438\u0439 \u043d\u0430\u0431\u043e\u0440 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0440\u0435\u0448\u0435\u043d\u0438\u0439 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043c\u0435\u0442\u0440\u0438\u043a \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u0442\u0440\u0430\u0444\u0438\u043a.</li> <li>\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c ebpf \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u0443 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044e \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0437\u0430\u0434\u0430\u0447 \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430, \u043d\u043e \u0438 \u0434\u043b\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0438 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u0442\u0440\u0430\u0444\u0438\u043a\u0430.</li> </ul> \u041c\u0438\u043d\u0443\u0441\u044b <ul> <li>\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0432 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044f\u0445: ebpf \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u044b \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f.</li> <li>\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438: \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 ebpf \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u0437\u043d\u0430\u043d\u0438\u0439, \u0447\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0433\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u043e\u043b\u0435\u0435 \u0441\u043b\u043e\u0436\u043d\u044b\u043c \u0434\u043b\u044f \u043d\u0435\u043e\u043f\u044b\u0442\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u0423\u0447\u0438\u0442\u044b\u0432\u0430\u0439\u0442\u0435 \u044d\u0442\u043e \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430 \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0432\u0430\u0448\u0435\u0439 \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b.</li> </ul>"},{"location":"toolset/#nftables","title":"nftables","text":"\u041f\u043b\u044e\u0441\u044b <ul> <li>\u0418\u043c\u0435\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0439 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441, \u0447\u0442\u043e \u0443\u043f\u0440\u043e\u0449\u0430\u0435\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u043e\u0442\u043b\u0430\u0434\u043a\u0443 \u043f\u0440\u0430\u0432\u0438\u043b.</li> <li>\u041e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434 \u043a \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430.</li> <li>\u041e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u0431\u044b\u0441\u0442\u0440\u0435\u0435, \u0447\u0435\u043c iptables.</li> <li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0448\u0438\u0440\u043e\u043a\u0438\u0439 \u0441\u043f\u0435\u043a\u0442\u0440 \u0444\u0443\u043d\u043a\u0446\u0438\u0439, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438.</li> <li>\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u044f\u0434\u0440\u0430, \u0447\u0442\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0432\u0430\u0436\u043d\u043e \u0432 \u0441\u043b\u0443\u0447\u0430\u044f\u0445, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u044b\u0441\u0442\u0440\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438.</li> <li>\u041e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0438 \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u0433\u0440\u0443\u043f\u043f\u0430\u043c\u0438 \u043f\u0430\u043a\u0435\u0442\u043e\u0432.</li> <li>\u041e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u0431\u043e\u043b\u0435\u0435 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u043c\u0430\u0442\u0447\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0444\u043b\u0430\u0433\u043e\u0432 TCP \u0438\u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 IP-\u0430\u0434\u0440\u0435\u0441\u043e\u0432.</li> <li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 IP-\u0430\u0434\u0440\u0435\u0441\u0430\u043c\u0438 \u0438 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0442\u0438\u043f\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u0447\u0442\u043e \u0443\u043f\u0440\u043e\u0449\u0430\u0435\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0431\u0440\u0430\u043d\u0434\u043c\u0430\u0443\u044d\u0440\u0430.</li> <li>\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0439, \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u0441\u043b\u043e\u0436\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f.</li> </ul> \u041c\u0438\u043d\u0443\u0441\u044b <ul> <li>\u041e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u043e\u0432\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0443 \u043d\u0435\u0433\u043e \u043c\u0435\u043d\u044c\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0434\u043b\u044f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0438 \u043e\u0442\u043b\u0430\u0434\u043a\u0438, \u0447\u0435\u043c \u0443 iptables.</li> <li>\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u044f\u0434\u0440\u0430, \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u044b.</li> <li>\u041d\u0435 \u0432\u0441\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0432 iptables, \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0432 nftables.</li> </ul>"}]}